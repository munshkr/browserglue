<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>browserglue example</title>
    </head>
    <body>

    </body>
    <script src="browserglue.js"></script>
    <script type="text/javascript">
        var client = new browserglue.Client('ws://localhost:8000');

        console.log("add socket udp:13455")
        client.addSocket(13455).then(socket => {
            // Handle messages
            socket.on(message => {
                console.log("message from udp:13455", message);
            });

            // Remove socket after 5 seconds
            setTimeout(() => client.removeSocket(13455), 5000);

            // Remove all sockets after 7 seconds
            setTimeout(() => client.removeAllSockets(), 2000);
        });

        // Add another socket
        client.addSocket(13459);
    </script>
</html>
